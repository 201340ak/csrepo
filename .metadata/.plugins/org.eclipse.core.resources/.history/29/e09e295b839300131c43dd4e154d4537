package unl.cse;

/*
 * Main Persons class to interface with the Persons data
 */

import java.util.ArrayList;
import java.util.Collections;
import java.util.List;
import javax.xml.bind.annotation.XmlElement;
import javax.xml.bind.annotation.XmlRootElement;

@XmlRootElement(name = "persons", namespace = "unl.cse")
public class PersonsHub {
	
	@XmlElement(name = "person")
	private final List<Persons> personsList;
	
	public PersonsHub() {
		this.personsList = new ArrayList<Persons>();
	}
	
	public void addPersons(Persons newPersons) {
		this.personsList.add(newPersons);
	}
	
	public List<Persons> getCollection() {
    	return Collections.unmodifiableList(this.personsList);
	}
	
	public List<Persons> getPersonInfo(String id) {
		boolean flag = false;
		List<Persons> results = new ArrayList<Persons>();
		for(Persons p : this.personsList) {
			if (p.getId().equals(id.trim())) {
				results.add(p);
				flag = true;
				break;
			}
		}
		
		if (flag == false) {
			System.out.println("Error: Customer owner not found: "+id);
		}
		
		return results;
	}
}