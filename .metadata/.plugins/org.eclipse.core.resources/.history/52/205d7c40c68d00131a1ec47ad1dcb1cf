package cse.unl;

import java.io.File;
import java.io.FileNotFoundException;
import java.util.ArrayList;
import java.util.Scanner;

public class DatarConvert {
	final String PERSONS_DATA_FILE = "data/Persons.dat";
	final String INVOICES_DATA_FILE = "data/Invoices.dat";
	final String PRODUCTS_DATA_FILE = "data/Products.dat";
	
	public DatarConvert() {
		parsePersonsXml();
	}
	
	public void parsePersonsXml() {
		Scanner s = null;
    	try {
			s = new Scanner(new File(PERSONS_DATA_FILE));
		} catch (FileNotFoundException e) {
			e.printStackTrace();
		}
    	
    	s.nextLine();
    	while(s.hasNextLine()) {
    		String line = s.nextLine();
			String tokens[] = line.split(";");
			String code = tokens[0];
			String[] names = tokens[1].split(",");
			String[] address = tokens[2].split(",");
			String[] derp = {"N/A"};
			String[] emails = (tokens.length == 4) ? tokens[3].split(",") : derp;
			Persons dudes = new Persons();
			dudes.setId(code);
			dudes.setEmails(emails);
			
			ArrayList<PersonsAddress> addressCollection = new ArrayList<PersonsAddress>();
			PersonsAddress adr = new PersonsAddress();
			adr.setStreet(address[0]);
			adr.setCity(address[1]);
			adr.setState(address[2]);
			adr.setZip(address[3]);
			adr.setCountry(address[4]);
			addressCollection.add(adr);
			dudes.setAddress(adr);
    	}
	}
	
	public void parseCustomerXml() {
		
	}
	
	public void parseProductXml() {
		
	}
	
	//LEXI! Y U NO MAKE?!
	public void parsePersonsJson() {
		
	}
	
	//LEXI! Y U NO MAKE?!
	public void parseCustomerJson() {
		
	}
	
	//LEXI! Y U NO MAKE?!
	public void parseProductJson() {
		
	}
	
	public static void main(String[] args) {
		new DatarConvert();
	}
}